version: '3.3'

services:
    backend:
        build:
            context: ./backend
        volumes: 
            - ./backend:/app
        command: /start.sh
        restart: on-failure
        ports: 
            - "8001:8000"

    frontend:
        image: node:13-alpine
        command: npm run serve
        volumes:
            - ./.env:/app/.env:ro
            - ./frontend:/app
        working_dir: /app
        restart: on-failure
        expose: 
            - 8080
        ports: 
            - "8002:8080"